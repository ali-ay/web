$=jQuery,IyzicoAdmin={utils:{quickEditGenerator:function(e,a,t,i,n){var l="";t&&(l="alternate");var o="";return o+='<tr id="edit-'+e+'" class="inline-edit-row '+l+' inline-editor" data-belongs-to="'+e+'"  style="">',o+='<td colspan="5" class="colspanchange"><form id="quickEditForm_'+e+'">',o+="<fieldset>",o+='<div class="inline-edit-col">',o+="<h4>Quick Edit</h4>",o+='<p>Editing/Translating for language: <strong class="red">'+n+"</strong></p>",o+='<div id="place-holder-'+e+'"><div class="spinner" style="float:none;display:block!important;"></div></div>',o+="</div>",o+="</fieldset>",o+='<p class="inline-edit-save submit">',o+='<a accesskey="c" href="" class="cancel button-secondary alignleft quickCancel">Cancel</a>',o+='<a accesskey="s" href="" data-belongs-to="'+e+'" class="save button-primary alignright quickSave">Update</a>',o+='<span class="spinner"></span>',o+='<span class="error" style="display:none;"></span>',o+='<input type="hidden" name="action" value="'+i+'">',o+='<input type="hidden" name="language" value="'+n+'">',o+='<input type="hidden" name="itemId" value="'+e+'">',o+='<br class="clear">',o+="</p>",o+="</form></td>",o+="</tr>"},changeLanguage:function(e){var a="action=change_language&language="+e;$.post(global_variables.ajax_url,a,function(e){var a=JSON.parse(e);"true"==a.success?$(location).attr("href",window.location.href):(console.log(a.error),$(location).attr("href",window.location.href))})}},helpers:{updateItemJSON:function(e,a){var t=$("#item-"+e).data("item-json");for(prop in a)t.hasOwnProperty(prop)&&(t[prop].value=a[prop]);$("#item-"+e).data("item-json",t)}},events:{quickEditCancel:function(){var e=$(".inline-edit-row");e&&($("#item-"+e.data("belongs-to")).show(),e.remove())},quickEditSave:function(e,a){itemId=a.data("belongs-to");var t=$("#quickEditForm_"+itemId).serialize();$(".quickSave").hide(),$(".spinner").show(),$.post(global_variables.ajax_url,t,function(e){$(".quickSave").show(),$(".spinner").hide();var a=JSON.parse(e);"true"==a.success?($("#notificationBar").html("<h3>"+a.message+"</h3>"),$(location).attr("href",window.location.href)):($("#notificationBar").html("<h3>"+a.error+"</h3>"),IyzicoAdmin.events.quickEditCancel()),$("#notificationBar").fadeIn(300).delay(2500).fadeOut(300)})},quickEditLocalisationListener:function(e,a){var t="";for(var i in e)if(e.hasOwnProperty(i)){var n=e[i],l=n.type.split(",");if(t+="<label>",t+='<span class="title">'+n.title+"</span>",t+='<span class="input-text-wrap">',"standard"==l[0])t+='<input type="'+l[1]+'" name="'+i+'" class="ptitle" style="width:100%" value="'+n.value+'">';else if("template"==l[0]){var o=(l[1].replace("Template",""),$("#"+l[1]));o.find("select option").filter(function(){$(this).attr("value")==n.value?$(this).attr("selected",!0):$(this).attr("selected",!1)}),t+=o.html()}else"large"==l[0]&&(t+='<textarea name="'+i+'" class="ptitle" style="width:100%">'+n.value+"</textarea>");t+="</span>",t+="</label>"}$("#place-holder-"+a).html(t)}},localisation:{getLocalisedData:function(e,a,t){var i={action:a,language:t,itemId:e};i=$.param(i),$.post(global_variables.ajax_url,i,function(a){var t=JSON.parse(a);return"true"!=t.success?(console.log(t),!1):void IyzicoAdmin.events.quickEditLocalisationListener(JSON.parse(t.data),e)})}}},$(document).ready(function(){$(".quickEditor").click(function(){var e=$(this).data("item-id"),a=$("#item-"+e),t=a.data("item-json"),i=$(this).data("edit-endpoint"),n=$(this).data("localisation-endpoint"),l=$(this).data("language"),o=(IyzicoAdmin.localisation.getLocalisedData(e,n,l),IyzicoAdmin.utils.quickEditGenerator(e,t,a.hasClass("alternate"),i,l));a.hide();var c=$(".inline-edit-row");return c&&IyzicoAdmin.events.quickEditCancel(),a.after($(o)),$(".quickCancel").click(function(e){return IyzicoAdmin.events.quickEditCancel(e,$(this)),!1}),$(".quickSave").click(function(e){return IyzicoAdmin.events.quickEditSave(e,$(this)),!1}),!1}),$(".quickDelete").click(function(e){return e.preventDefault(),itemId=$(this).data("item-id"),$("#itemToDelete").val(itemId),confirm("Item will be deleted PERMANENTLY, are you sure?")&&$("#deleteForm").submit(),!1}),$(".action").click(function(e){e.preventDefault(),"delete"==$("#bulk-action-selector").val()||"delete"==$("#bulk-action-selector-top").val()?confirm("Selected items will be deleted PERMANENTLY, are you sure?")&&$("#posts-filter").submit():alert("Please select an action.")}),$("#workingLanguage").change(function(){IyzicoAdmin.utils.changeLanguage($(this).val())}),$("#filter-action-selector").change(function(){window.location=$(this).val()}),$("#caching_mod").change(function(){0!=$(this).val()?($("#cache_salt").prop("disabled",!1),$("#cache_timeout").prop("disabled",!1)):($("#cache_salt").prop("disabled",!0),$("#cache_timeout").prop("disabled",!0))}),$("#lazyload_mod").change(function(){0!=$(this).val()?($("#admin_exception").prop("disabled",!1),$("#preview_exception").prop("disabled",!1)):($("#admin_exception").prop("disabled",!0),$("#preview_exception").prop("disabled",!0))}),$("#purge_all").click(function(){return confirm("Do you really want to purge all the cache?")?($("#purge_action").val("purge_all"),void $("#purge_form").submit()):!1}),$("#purge_expired").click(function(){$("#purge_action").val("purge_expired"),$("#purge_form").submit()})});